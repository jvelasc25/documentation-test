<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Software Guide &#8212; System Level Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/style.min.css?v=a9555194" />
    <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script defer="" src="../../../../_static/app.umd.js?v=689b8755"></script>
    <link rel="icon" href="../../../../_static/icon.svg"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="AD-GMSLCAMRPI-ADP#" href="../../ad-gmslcamrpi-adp/index.html" />
    <link rel="prev" title="Hardware Guide" href="../hardware-guide/index.html" />
   
  
  <meta name="global_root" content="../../../../../">
  <meta name="repo" content="documentation">
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <div class="banner"></div>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button value="search" class="icon"></button>
      <span id="search-progress"></span>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com"></a>
        <div class="vertical-divider"></div>
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        <a id="logo" href="../../../../index.html">
          <div>System Level</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../../../index.html" class="current">System Level</a>
  <a href="../../../../../hdl/index.html">HDL</a>
  <a href="../../../../../testbenches/index.html">HDL Testbenches</a>
  <a href="../../../../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../../../../libiio/index.html">libiio</a>
  <a href="../../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
  <a href="../../../../../scopy/index.html">Scopy</a>
  <a href="../../../../../doctools/index.html">Doctools</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header"></div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">Software Guide</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#pre-requisites">Pre-Requisites</a></li>
<li><a class="reference internal" href="#required-hardware">Required Hardware</a></li>
<li><a class="reference internal" href="#recommended-hardware">Recommended Hardware</a></li>
<li><a class="reference internal" href="#required-software-and-downloads">Required Software and Downloads</a></li>
<li><a class="reference internal" href="#recommended-tools-and-software">Recommended Tools and Software</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ad-gmsl522-sl-hardware-overview">AD-GMSL522-SL Hardware Overview</a><ul>
<li><a class="reference internal" href="#gmsl-camera-inputs">GMSL Camera Inputs</a></li>
<li><a class="reference internal" href="#csi-input-to-jetson-som">CSI Input to Jetson SoM</a></li>
<li><a class="reference internal" href="#i2c-busses">I2C Busses</a></li>
</ul>
</li>
<li><a class="reference internal" href="#first-time-setup-getting-started">First Time Setup / Getting Started</a><ul>
<li><a class="reference internal" href="#assembling-the-som-to-the-board">Assembling the SoM to the Board</a></li>
<li><a class="reference internal" href="#flashing-the-ad-gmsl522-sl-board">Flashing the AD-GMSL522-SL Board</a></li>
<li><a class="reference internal" href="#updating-the-digital-potentiometers-on-ad-gmsl522-sl">Updating the Digital Potentiometers on AD-GMSL522-SL</a></li>
<li><a class="reference internal" href="#how-to-change-configuration-pin-voltages-for-onboard-serdes">How to Change Configuration Pin Voltages for Onboard SERDES</a></li>
<li><a class="reference internal" href="#updating-changing-device-tree-blobs-boot-modes">Updating/Changing Device Tree Blobs (boot modes)</a></li>
<li><a class="reference internal" href="#verify-proper-flashing-setup">Verify Proper Flashing/Setup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#general-tips-for-using-the-ad-gmsl522-sl-board">General Tips for Using the AD-GMSL522-SL Board</a></li>
<li><a class="reference internal" href="#streaming-video-data-via-generic-sensor-driver">Streaming Video Data via “Generic Sensor Driver”</a></li>
<li><a class="reference internal" href="#loopback-testing-and-exercises">Loopback Testing and Exercises</a><ul>
<li><a class="reference internal" href="#looping-back-the-on-board-max96717-to-the-on-board-max96724-streaming-a-checkerboard-pattern-from-the-max96717">Looping back the On-Board MAX96717 to the On-Board MAX96724 (streaming a checkerboard pattern from the MAX96717)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#debugging-csi-input-to-ad-gmsl522-sl-board">Debugging CSI Input to AD-GMSL522-SL Board</a></li>
<li><a class="reference internal" href="#other-helpful-software-and-improvements">Other Helpful Software and Improvements</a><ul>
<li><a class="reference internal" href="#viewing-ad-gmsl522-sl-remotely-using-nomachine">Viewing AD-GMSL522-SL Remotely Using NoMachine</a></li>
<li><a class="reference internal" href="#booting-from-nvme">Booting From NVMe</a></li>
<li><a class="reference internal" href="#booting-from-sd-card">Booting From SD Card</a></li>
<li><a class="reference internal" href="#restarting-the-fan-service">Restarting the Fan Service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ad-gmsl522-sl-hardware-specifics">AD-GMSL522-SL Hardware Specifics</a><ul>
<li><a class="reference internal" href="#block-diagram">Block Diagram</a></li>
<li><a class="reference internal" href="#i2c">I2C</a></li>
<li><a class="reference internal" href="#mipi-qth-samtec-connector">MIPI / QTH SAMTEC CONNECTOR</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-proper-script-for-pattern-generator-viewing-exercise">Appendix (proper script for pattern generator viewing exercise)</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../../../../index.html">
      System Level Documentation
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../../index.html" class="current">System Level</a>
  <a href="../../../../../hdl/index.html">HDL</a>
  <a href="../../../../../testbenches/index.html">HDL Testbenches</a>
  <a href="../../../../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../../../../libiio/index.html">libiio</a>
  <a href="../../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
  <a href="../../../../../scopy/index.html">Scopy</a>
  <a href="../../../../../doctools/index.html">Doctools</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><p class="caption" role="heading"><span class="caption-text">Kuiper &amp; Linux Kernel</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="../../../../linux/kuiper/index.html">Kuiper Linux</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../linux/kuiper/release-notes.html">Release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../linux/kuiper/sdcard/index.html">SD Card flashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../linux/kuiper/project-list.html">Project list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../linux/kuiper/update.html">Updating</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2" id="toctree-collapse-2"/><div class="collapse"><a class="reference internal" href="../../../../linux/drivers/index.html">Linux drivers</a><label for="toctree-collapse-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1" id="toctree-collapse-2-1"/><div class="collapse"><a class="reference internal" href="../../../../linux/drivers/iio-transceiver/index.html">IIO Transceivers</a><label for="toctree-collapse-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1-1" id="toctree-collapse-2-1-1"/><div class="collapse"><a class="reference internal" href="../../../../linux/drivers/iio-transceiver/adrv9009/index.html">ADRV9009, ADRV9008-1, ADRV9008-2</a><label for="toctree-collapse-2-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../linux/drivers/iio-transceiver/adrv9009/customization.html">Customization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-2" id="toctree-collapse-2-2"/><div class="collapse"><a class="reference internal" href="../../../../linux/drivers/iio/index.html">Linux Industrial I/O Subsystem</a><label for="toctree-collapse-2-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../linux/drivers/iio/iio-trig-sysfs.html">iio-trig-sysfs driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../linux/drivers/iio/iio-trig-bfin-timer.html">iio-trig-bfin-timer driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3" id="toctree-collapse-3"/><div class="collapse"><a class="reference internal" href="../../../../linux/kernel/index.html">Kernel and devicetrees</a><label for="toctree-collapse-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../linux/kernel/petalinux.html">Building with Petalinux</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4" id="toctree-collapse-4"/><div class="collapse"><a class="reference internal" href="../../../../software/iio-oscilloscope/index.html">IIO Oscilloscope</a><label for="toctree-collapse-4"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4-1" id="toctree-collapse-4-1"/><div class="collapse"><a class="reference internal" href="../../../../software/iio-oscilloscope/adrv9009/index.html">ADRV9009</a><label for="toctree-collapse-4-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../software/iio-oscilloscope/adrv9009/plugin.html">Standard Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../software/iio-oscilloscope/adrv9009/advanced-plugin.html">Advanced plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-5" id="toctree-collapse-5"/><div class="collapse"><a class="reference internal" href="../../../../software/libiio/index.html">Libiio</a><label for="toctree-collapse-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../software/libiio/internals.html">About libiio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../software/libiio/cli.html">Command line utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../software/libiio/tips-tricks.html">Tips &amp; Tricks</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-6" id="toctree-collapse-6"/><div class="collapse"><a class="reference internal" href="../../../../software/matlab/index.html">MATLAB &amp; Simulink Toolboxes</a><label for="toctree-collapse-6"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../software/matlab/hsx-toolbox/index.html">High Speed Converter Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../software/matlab/transceiver-toolbox/index.html">Transceiver Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../software/matlab/bsp-extend.html">Extending Device Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../software/pyadi-iio/index.html">PyADI-IIO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Evaluation Boards</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7" id="toctree-collapse-7"/><div class="collapse"><a class="reference internal" href="../../../../eval/user-guide/index.html">User guides</a><label for="toctree-collapse-7"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../eval/user-guide/eval-adxl355-pmdz/index.html">EVAL-ADXL355-PMDZ User Guide</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7-1" id="toctree-collapse-7-1"/><div class="collapse"><a class="reference internal" href="../../../../eval/user-guide/adrv9009/index.html">ADRV9009 &amp; ADRV9008</a><label for="toctree-collapse-7-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../eval/user-guide/adrv9009/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7-1-1" id="toctree-collapse-7-1-1"/><div class="collapse"><a class="reference internal" href="../../../../eval/user-guide/adrv9009/quickstart/index.html">Quickstart</a><label for="toctree-collapse-7-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../eval/user-guide/adrv9009/quickstart/zynqmp.html">ZCU102</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../eval/user-guide/adrv9009/basic-iq-datafiles.html">Basic IQ Datafiles</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Apps &amp; Solutions</span></p>
<ul class="current">
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8" id="toctree-collapse-8"/><div class="collapse"><a class="reference internal" href="../../../application-software/index.html">Application Software</a><label for="toctree-collapse-8"><div class="icon"></div></label></div><ul class="simple">
</ul>
</li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9" id="toctree-collapse-9" checked=""/><div class="collapse"><a class="reference internal" href="../../index.html">Reference Designs</a><label for="toctree-collapse-9"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-1" id="toctree-collapse-9-1"/><div class="collapse"><a class="reference internal" href="../../ad-apard32690-sl/index.html">AD-APARD32690-SL</a><label for="toctree-collapse-9-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-1-1" id="toctree-collapse-9-1-1"/><div class="collapse"><a class="reference internal" href="../../ad-apard32690-sl/hardware-and-software-guide/index.html">Hardware &amp; Software Guide</a><label for="toctree-collapse-9-1-1"><div class="icon"></div></label></div><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-2" id="toctree-collapse-9-2"/><div class="collapse"><a class="reference internal" href="../../ad-bmse2e3w-sl/index.html">AD-BMSE2E3W-SL</a><label for="toctree-collapse-9-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ad-bmse2e3w-sl/sample_application/index.html">Sample Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ad-bmse2e3w-sl/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-3" id="toctree-collapse-9-3"/><div class="collapse"><a class="reference internal" href="../../ad-cellpackbm-sl/index.html">AD-CELLPACKBM-SL</a><label for="toctree-collapse-9-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ad-cellpackbm-sl/hardware_guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ad-cellpackbm-sl/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
<li class="toctree-l2 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-4" id="toctree-collapse-9-4" checked=""/><div class="collapse"><a class="reference internal" href="../index.html">AD-GMSL522-SL</a><label for="toctree-collapse-9-4"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../hardware-guide/index.html">Hardware Guide</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Software Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-5" id="toctree-collapse-9-5"/><div class="collapse"><a class="reference internal" href="../../ad-gmslcamrpi-adp/index.html">AD-GMSLCAMRPI-ADP#</a><label for="toctree-collapse-9-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ad-gmslcamrpi-adp/raspberry-pi-user-guide/index.html">Raspberry Pi User Guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../eval-cn0575-rpiz/index.html">EVAL-CN0575-RPIZ</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-6" id="toctree-collapse-9-6"/><div class="collapse"><a class="reference internal" href="../../eval-cn0577-fmcz/index.html">EVAL-CN0577-FMCZ</a><label for="toctree-collapse-9-6"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval-cn0577-fmcz/HDL-reference-design/index.html">HDL Reference Design</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9-7" id="toctree-collapse-9-7"/><div class="collapse"><a class="reference internal" href="../../eval-isomax/index.html">EVAL-ISOMAX</a><label for="toctree-collapse-9-7"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval-isomax/hardware_guide/index.html">Hardware User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../eval-isomax/software_guide/index.html">Software User Guide</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">University Program</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-10" id="toctree-collapse-10"/><div class="collapse"><a class="reference internal" href="../../../../university/index.html">Engineering University Program</a><label for="toctree-collapse-10"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-10-1" id="toctree-collapse-10-1"/><div class="collapse"><a class="reference internal" href="../../../../university/active_learning/index.html">Active Learning: Student-oriented Lab Exercises</a><label for="toctree-collapse-10-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../university/active_learning/wien_bridge_oscillator/index.html">Activity: The Wien Bridge Oscillator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../university/active_learning/efficiency_power_loss/index.html">Activity: Efficiency, Power Loss, and Thermal Management</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-11" id="toctree-collapse-11"/><div class="collapse"><a class="reference internal" href="../../../../learning/index.html">Learning! Tutorials, Workshops, Etc</a><label for="toctree-collapse-11"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../learning/tutorial_prec_adc/index.html">Precision ADC Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../learning/converter_connectivity_tutorial/index.html">Converter Connectivity Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../learning/sw_infrastructure/index.html">Key ADI’s Software Infrastructure for designing with ADCs, DACs, and Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../learning/tools_for_ls/index.html">Tools for Low Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../learning/tools_for_prec_wb/index.html">Tools for Precision Wideband Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../learning/tools_for_hs/index.html">Tools for High-Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../learning/workshop_what_sw_for_sdr/index.html">What software do I need for my SDR?</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing and Guidelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/forking_publishing.html">Forking and publishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/creating_new_pages.html">Creating new pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contributing/docs_guidelines.html">Documentation guidelines</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section id="software-guide">
<h1>Software Guide<a class="headerlink" href="#software-guide" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>The default username and password for the device are as follows:</dt><dd><ul class="simple">
<li><p>Username: analog</p></li>
<li><p>Password: analog</p></li>
</ul>
</dd>
</dl>
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The AD-GMSL522-SL Development Board or simply “GMSL Dev Board” is just
another name for the AD-GMSL522-SL board. Note that these three names are used
interchangeably throughout this Getting Started Guide.</p>
</div>
<p>This page will go over high-level features and functions of the AD-GMSL522-SL
Board. The following, specifically, will be covered:</p>
<ul class="simple">
<li><p>Required Hardware</p></li>
<li><p>Recommended Hardware</p></li>
<li><p>AD-GMSL522-SL Board I/O</p></li>
<li><p>First time board bring-up</p></li>
<li><p>Required software download/install</p></li>
<li><p>Recommended tools/software</p></li>
</ul>
<section id="pre-requisites">
<h3>Pre-Requisites<a class="headerlink" href="#pre-requisites" title="Link to this heading"></a></h3>
<p>No prior training is required to go through the
content of this document. A basic understanding of the GMSL technology,
however, is recommended. The following sub-sections detail the required and
recommended hardware/software to get the AD-GMSL522-SL board up and running
properly.</p>
</section>
<section id="required-hardware">
<h3>Required Hardware<a class="headerlink" href="#required-hardware" title="Link to this heading"></a></h3>
<p>The following hardware is required to enable
critical features of the AD-GMSL522-SL Board. The AD-GMSL522-SL board and
vetted hardware is shown below. The customer will need to procure their own
Jetson Module and corresponding heatsink.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>AD-GMSL522-SL Board:</p></td>
<td><p><a class="reference external" href="https://wcm2.cldnet.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/ad-gmsl522-sl.html">https://wcm2.cldnet.analog.com/en/resources/evaluation-hardware-and-software/evaluation-boards-kits/ad-gmsl522-sl.html</a></p></td>
</tr>
<tr class="row-even"><td><p>(If not using SoM-included version) Compatible Jetson SOM:</p></td>
<td><p><a class="reference external" href="https://www.arrow.com/en/products/900-83668-0000-000/nvidia">https://www.arrow.com/en/products/900-83668-0000-000/nvidia</a></p></td>
</tr>
<tr class="row-odd"><td><p>(If not using SoM-included version) Heat Sink for SOM:</p></td>
<td><p><a class="reference external" href="https://www.mouser.com/ProductDetail/Auvidea/70797?qs=vmHwEFxEFR%2FrptlH5I2KWQ%3D%3D">https://www.mouser.com/ProductDetail/Auvidea/70797?qs=vmHwEFxEFR%2FrptlH5I2KWQ%3D%3D</a></p></td>
</tr>
<tr class="row-even"><td><p>12V 8A Power Supply:</p></td>
<td><p><a class="reference external" href="https://www.amazon.com/TOBWOLF-100V-240V-Transformer-Switching-Converter/dp/B0B1DGBVKB?th=1">https://www.amazon.com/TOBWOLF-100V-240V-Transformer-Switching-Converter/dp/B0B1DGBVKB?th=1</a></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="recommended-hardware">
<h3>Recommended Hardware<a class="headerlink" href="#recommended-hardware" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Ethernet Cable or USB &lt;-&gt; Wi-Fi Adapter</p></li>
<li><p>MicroUSB Cable</p></li>
<li><p>USB Mouse and eyboard</p></li>
<li><p><a class="reference external" href="https://www.amazon.com/dp/B09QVP977F?ref_=cm_sw_r_cso_em_apin_dp_G1BNY16H5HNVZBR4SAHA">NVMe Module</a></p></li>
<li><p>SD Card: <a href="#id1"><span class="problematic" id="id2">`https://www.amazon.com/dp/B09X7CRKRZ?psc=1`_</span></a></p></li>
</ul>
</section>
<section id="required-software-and-downloads">
<h3>Required Software and Downloads<a class="headerlink" href="#required-software-and-downloads" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://swdownloads.analog.com/cse/aditof/Viper/gmsl522_1.tar.gz">AD-GMSL522-SL image for flashing:</a></p></li>
<li><p>Programming potentiometers for configuration pins: WIP</p></li>
<li><p><a class="reference external" href="https://github.com/analogdevicesinc/gmsl/tree/tools/AD-GMSL522-SL">GMSL GUI Server:</a></p></li>
</ul>
</section>
<section id="recommended-tools-and-software">
<h3>Recommended Tools and Software<a class="headerlink" href="#recommended-tools-and-software" title="Link to this heading"></a></h3>
<p>The following software are tools that
are commonly referenced and used during different examples, demos and
tutorials for AD-GMSL522-SL. To be able to easily follow along with these
lessons, it is recommended to download and install these tools.</p>
<ul class="simple">
<li><p>NoMachine (there is a following section below for more information)</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="ad-gmsl522-sl-hardware-overview">
<h2>AD-GMSL522-SL Hardware Overview<a class="headerlink" href="#ad-gmsl522-sl-hardware-overview" title="Link to this heading"></a></h2>
<p>In this section, the inputs, outputs, and other general hardware features of the
AD-GMSL522-SL board will be discussed.</p>
<section id="gmsl-camera-inputs">
<h3>GMSL Camera Inputs<a class="headerlink" href="#gmsl-camera-inputs" title="Link to this heading"></a></h3>
<p>One way to send video data to the AD-GMSL522-SL
board is through GMSL-2 compatible camera modules. They can be connected to
the onboard FAKRA connectors, INA+, INB+, INC+, and IND+. These FAKRA
connectors are connected directly to the onboard MAX96724. In addition to
being connected to the deserializer these connectors are also shorted to +12V.
This means that the camera modules can be powered from the AD-GMSL522-SL board
and do not need to be powered internally. This is important to note because it
means that another voltage source should not be connected to these FAKRA
connectors, otherwise damage could be caused to either the AD-GMSL522-SL
board, or the user’s module.</p>
<a class="reference internal image-reference" href="../../../../_images/samtec_connector_image.png"><img alt="../../../../_images/samtec_connector_image.png" src="../../../../_images/samtec_connector_image.png" style="width: 600px;" />
</a>
<p>The MAX96724 has its Port B CSI-2 DPHY bus connected to the input of the Jetson
SoM. The second way that a user can send video to the Jetson SoM is through the
SAMTEC connector on the bottom of the board. Any GMSL2 CSI-2 DPHY deserializer
Evkit, or user-designed, board can be connected to this port. This SAMTEC
connector has 2x 1x4 CSI-2 DPHY ports connected directly to the Jetson SoM
inputs. Additionally, this connector can supply power, an I2C connection to the
Jetson, and GPIO connections to the Jetson to control things like frame sync, or
power down signals, for instance.</p>
</section>
<section id="csi-input-to-jetson-som">
<h3>CSI Input to Jetson SoM<a class="headerlink" href="#csi-input-to-jetson-som" title="Link to this heading"></a></h3>
<p>Depending on whether you are using camera
modules through the onboard MAX96724, or an Evkit connected to the onboard CSI
SAMTEC connector, or both, you will need to know which CSI input port to the
Jetson is connected. The below graphic shows which CSI Ports on the Jetson go
to which video inputs to the AD-GMSL522-SL board.</p>
<p>For more specifics about CSI connections, refer to the hardware overview document: <a class="reference external" href="https://wiki.analog.com/resources/eval/user-guides/ad-gmsl522-sl/hardware">hardware</a></p>
</section>
<section id="i2c-busses">
<h3>I2C Busses<a class="headerlink" href="#i2c-busses" title="Link to this heading"></a></h3>
<p>The Jetson has many different possible I2C busses and
therefore it is important to know which I2C bus connects to where on
AD-GMSL522-SL board. For more specifics about the I2C busses on AD-GMSL522-SL
board, refer to the hardware overview document: <a class="reference external" href="https://wiki.analog.com/resources/eval/user-guides/ad-gmsl522-sl/hardware">hardware</a></p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="first-time-setup-getting-started">
<h2>First Time Setup / Getting Started<a class="headerlink" href="#first-time-setup-getting-started" title="Link to this heading"></a></h2>
<section id="assembling-the-som-to-the-board">
<h3>Assembling the SoM to the Board<a class="headerlink" href="#assembling-the-som-to-the-board" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>First, attach the heatsink to the SOM.</p></li>
<li><p>Next, plug in the SOM to the AD-GMSL522-SL board at an angle, and once the
SOM is seated into the connector, push the SOM down until it is parallel with
the carrier board, at which point the locks should engage to keep the SOM at
a certain position.</p></li>
<li><p>Install standoffs to keep SOM safely in a firm and locked position.</p></li>
</ol>
</section>
<section id="flashing-the-ad-gmsl522-sl-board">
<h3>Flashing the AD-GMSL522-SL Board<a class="headerlink" href="#flashing-the-ad-gmsl522-sl-board" title="Link to this heading"></a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>In this next section, if you see an error during flashing, indicating ‘strings’ is not
installed, run the following commands on your host PC to install the required
libraries:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>sudo apt update</em></p></li>
<li><p><em>sudo apt install binutils</em></p></li>
</ul>
</div></blockquote>
</div>
<p>First, your Linux PC needs to be
configured to be able to flash Jetson devices. To do this, follow NVIDIA’s
documentation to install and run their “SDK Manager” program:
<a class="reference external" href="https://docs.nvidia.com/sdk-manager/download-run-sdkm/index.html">https://docs.nvidia.com/sdk-manager/download-run-sdkm/index.html</a> Now, let’s
begin with flashing the AD-GMSL522-SL image onto the NVIDIA Xavier SOM. Follow
the next steps to do so:</p>
<ol class="arabic">
<li><p>With the power off, place jumpers to short pins 3-4 on the P11 header to
force USB Recovery Mode for the Jetson Xavier. See below picture for a
diagram showing jumpers to be shorted. Pins 9-10 should always be shorted.</p></li>
<li><p>Plug in the power and programming cables to the AD-GMSL522-SL board by
following the below picture.</p></li>
<li><p>Untar, or extract, the image that was downloaded in the “Required Software”
section of this document</p>
<blockquote>
<div><ul class="simple">
<li><p>sudo tar -xvf &lt;filename&gt;</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Change working directory to the new directory created during the untar process.</p></li>
<li><dl class="simple">
<dt>On the host pc (this must be done with a Linux OS), run the following command to flash the Jetson SoM.</dt><dd><ul class="simple">
<li><p>sudo ./flash.sh gmsl522-p3668-0001-qspi-emmc mmcblk0p1</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Flashing will take some time. When it completes, you should see the following message at the end of the terminal:</dt><dd><ul class="simple">
<li><p>“The target t186ref has been flashed properly.”</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Reset the board to boot from internal eMMC via:</dt><dd><ul class="simple">
<li><p>Power down the board, and remove the FORCE_REC jumpered pin and remove the USB connection</p></li>
<li><p>Power cycle the board.  Note the fan will run and stop depending on the load level</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Power cycle the AD-GMSL522-SL board.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is very important at this point not to run automatic installing
commands like apt-get update because the current viper file system was created
with an older version of JetPack – 5.3.1.</p>
</div>
</section>
<section id="updating-the-digital-potentiometers-on-ad-gmsl522-sl">
<h3>Updating the Digital Potentiometers on AD-GMSL522-SL<a class="headerlink" href="#updating-the-digital-potentiometers-on-ad-gmsl522-sl" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The AD-GMSL522-SL boards are sent to the user with the digital
potentiometers already programmed and good for almost all use-cases. By default,
the MAX96724 and MAX96717 are configured in the following way:</p>
<blockquote>
<div><ul class="simple">
<li><p>6 Gbps Forward Link Speed (Both MAX96724 and MAX96717)</p></li>
<li><p>I2C communication method (instead of UART) (Both MAX96724 and MAX96717)</p></li>
<li><p>8-Bit I2C Address 0x4E (MAX96724)</p></li>
<li><p>8-bit I2C Address 0x84 (MAX96717)</p></li>
</ul>
</div></blockquote>
</div>
<p>The digital potentiometers on the AD-GMSL522-SL board control the voltage that
is sent to the configuration pins of the GMSL devices, and therefore, control
which mode the GMSL devices are booted up in. Learn more about the configuration
pins in the MAX96724 or the MAX96717 datasheets. To update or change these
voltages run the following script. This should be run once when the board is
first received, and again any time a change to the digital potentiometer output
voltage is required. The potentiometers will save the configuration in their
EEPROM, so it is not required to run this script after every reboot.</p>
<ol class="arabic">
<li><p>Change directory where the vr_config.sh script is located.</p></li>
<li><p>On the AD-GMSL522-SL board, execute the vr_config.sh script to update the
potentiometers:</p>
<blockquote>
<div><ul class="simple">
<li><p>sudo ./vr_config.sh</p></li>
</ul>
</div></blockquote>
</li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="how-to-change-configuration-pin-voltages-for-onboard-serdes">
<h3>How to Change Configuration Pin Voltages for Onboard SERDES<a class="headerlink" href="#how-to-change-configuration-pin-voltages-for-onboard-serdes" title="Link to this heading"></a></h3>
<p>Below is an example of the digital potentiometer circuit on the AD-GMSL522-SL board. As
you can see, the digital pot sets the point along the internal where the
voltage is measured. Because the internal resistor of the potentiometer is
200k, the pullup and pulldown resistors on the H and L pins have almost no
effect and can therefore be ignored. With this in mind, it can be stated that
the voltage see on the configuration pins of the SERDES is almost exactly the
voltage set by the programming of the potentiometer between 0 and 255. i.e.,
the voltage on the configuration pin can be summarized by this equation:
CFG(V)=VDDIO*ProgrammedValue Where ProgrammedValue is a hex value between 0
and 255 and is set per device in the vr_config file. A snippet of the
configuration file is shown below. Additionally, there are comments in the
configuration file to give example hex values to set for different
configuration profiles at the bottom of the file.</p>
<img alt="../../../../_images/vr_config.png" src="../../../../_images/vr_config.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="updating-changing-device-tree-blobs-boot-modes">
<h3>Updating/Changing Device Tree Blobs (boot modes)<a class="headerlink" href="#updating-changing-device-tree-blobs-boot-modes" title="Link to this heading"></a></h3>
<p>Multiple different device tree blobs (dtbs) are available for AD-GMSL522-SL user’s convenience.
They each have a separate use. For example, one dtb will allow any™ sensor
resolution to be streamed to AD-GMSL522-SL but the user will need to program
the SERDES and sensor themselves. Another dtb, however, will only allow a
certain sensor to be streamed and viewed with the Jetson, but the sensor and
SERDES programming will be executed at power up and is not configurable. To
change the dtb to boot from, follow these steps:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Using a text editor on the AD-GMSL522-SL board, open the /boot/extlinux/extlinux.conf file as root:</dt><dd><ul class="simple">
<li><p>sudo vim /boot/extlinux/extlinux.conf</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Find the line that specifies the dtb to boot from. This line “FDT /boot/dtb/tegra194-p3668-0001-viper-reva-gmsl-1.dtb” where the “-1” could be any value depending on what you are using now.</p></li>
<li><p>Change the “-X”, where the “X” is a value dependent on what you are using now, to whichever version you would like. The currently supported dtbs are shown below:</p></li>
</ol>
<p>For more information on how to create your own device trees, or modify the
AD-GMSL522-SL Kernel for your own custom use case, see this webpage: <a class="reference external" href="https://github.com/analogdevicesinc/nvidia/blob/">nvidia</a></p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="verify-proper-flashing-setup">
<h3>Verify Proper Flashing/Setup<a class="headerlink" href="#verify-proper-flashing-setup" title="Link to this heading"></a></h3>
<p>Once the Jetson has been flashed and
the configuration pins of the SERDES have been properly updated, you should be
able to probe the i2c bus of the AD-GMSL522-SL board and see the SERDES there.
Open a terminal and run the following command:</p>
<blockquote>
<div><ul class="simple">
<li><p>i2cdetect -y -r 1 (reads all devices on the I2C Bus #1. If a device is detected, its 7-bit address is noted)</p></li>
</ul>
</div></blockquote>
<p>If the board and SERDES are properly configured, you should see the following:</p>
<a class="reference internal image-reference" href="../../../../_images/i2cdetect.jpg"><img alt="../../../../_images/i2cdetect.jpg" src="../../../../_images/i2cdetect.jpg" style="width: 600px;" />
</a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="general-tips-for-using-the-ad-gmsl522-sl-board">
<h2>General Tips for Using the AD-GMSL522-SL Board<a class="headerlink" href="#general-tips-for-using-the-ad-gmsl522-sl-board" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>If ‘looping back’ the onboard MAX96717 to the onboard MAX96724, it is best
practice to disable the MAX96717 local control channel. This way, I2C
communication will not be duplicated and only sent to the MAX96717 via the
GMSL link. To do this, set register bit 5 in register 0x0001 HIGH. For
example, if operating the max96717 in 6G mode, set register 0x0001 == 0x28.</p></li>
<li><p>The MAX96724 has two MIPI ports. One of these ports is connected to the Jetson
while the other port is connected to the MAX96717. Specifically, MIPI Port B
is connected to the Jetson, while MIPI Port A is connected to the MAX96717.
This will be important when specifying in the GUI tools where to send the
video data.</p></li>
<li><p>There are two micro-USB inputs to the Jetson. One is used for debug
information from the Jetson while the other is used for GPIO. Unless you are
looking for kernel and boot messages from the Jetson, P6 is the correct
connector to use. P6 should be used if you are trying to connect the GMSL GUI
to the Jetson, for example.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="streaming-video-data-via-generic-sensor-driver">
<h2>Streaming Video Data via “Generic Sensor Driver”<a class="headerlink" href="#streaming-video-data-via-generic-sensor-driver" title="Link to this heading"></a></h2>
<p>The “generic sensor driver” device tree of the AD-GMSL522-SL board allows a user
to stream any resolution camera and any sort of MIPI CSI-2 datatype, within the
capabilities of the jetson. There is one limitation to this tool, and it is that
no embedded data may be used. Future device trees will allow different numbers
of embedded data at the TOP of the image frame but are currently unavailable.
The Jetson, as of writing this, does not currently support any embedded data at
the BOTTOM of the image frame. To utilize this tool, the SERDES and the
accompanying image sensors must be programmed by the user. This can be done in a
number of ways: The GMSL GUI connected directly to an evkit, the GMSL GUI
connected through the AD-GMSL522-SL board, the “GMSL User Space Drivers”, or any
other user-defined way. In general, the sensor can be streamed by following the
below steps:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Program the SERDES</dt><dd><ul class="simple">
<li><p>One way to do this is to open the GMSL server on AD-GMSL522-SL board, and run the GUI via a user’s PC</p></li>
<li><p>Using the “CSI Configuration Tool” in the GMSL GUI, generate a SERDES script</p></li>
<li><p>Program the SERDES using the “Load (.CPP) File” tool</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Program the Image Sensor</dt><dd><ul class="simple">
<li><p>This step will require the user to have a set of register writes to program the sensor and cause it to stream video data. There are few ways to get this data but normally it can be acquired from the image sensor vendor.</p></li>
<li><p>Program the Image Sensor. If the register writes are configured in the same way that that the SERDES register writes are, i.e., in a .cpp format, the GMSL GUI can be used to program the sensor, again, using the “Load (.CPP) File” tool.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Configure the v4l2 video pipeline</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Below is one example of this command. Note where the resolution is stated, and where the datatype is stated. To find supported image formats, or datatypes, of the Jetson, another command can be executed:</dt><dd><ul>
<li><p>Command to configure pipeline: v4l2-ctl –device /dev/video2 –set-fmt-video=width=1920,height=1280,pixelformat=BG12</p></li>
<li><p>Command to find supported pixel formats: v4l2-ctl –list-formats</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Stream</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Once the pipeline is properly configured to the incoming data, the video viewer, qv4l2 should be called. However, which CSI input to the Jetson being used, needs to be specified. See the following command:</dt><dd><ul>
<li><p>qv4l2 -d /dev/video2</p></li>
<li><dl class="simple">
<dt>The following video devices should be used depending on which MIPI Input is used:</dt><dd><ul>
<li><p>QTH SAMTEC MIPI Port A: /dev/video0</p></li>
<li><p>QTH SAMTEC MIPI Port B: /dev/video1</p></li>
<li><p>MAX96724 MIPI Port B: /dev/video2</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Click the green “Play” button to stream the video (see image below)</p></li>
<li><p>Make sure not to change any of the parameters in the window because it will override what was done in the previous step.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
<img alt="../../../../_images/better_v4l2_thing.jpg" src="../../../../_images/better_v4l2_thing.jpg" />
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="loopback-testing-and-exercises">
<h2>Loopback Testing and Exercises<a class="headerlink" href="#loopback-testing-and-exercises" title="Link to this heading"></a></h2>
<p>For the following two sub sections, connect your AD-GMSL522-SL board in the
following way. Some of these components may not be necessary depending on how
you have your system setup. For instance, if you are using NoMachine, an
external display is not necessary. An ethernet is not explicitly needed for this
exercise unless a connection to the internet, or an intranet for use of
NoMachine or another VNC. It is important to have a coax cable connected between
the MAX96717 output and the MAX96724 “A” input.</p>
<img alt="../../../../_images/viper_block_diagram_using_loopback_section.png" src="../../../../_images/viper_block_diagram_using_loopback_section.png" />
<section id="looping-back-the-on-board-max96717-to-the-on-board-max96724-streaming-a-checkerboard-pattern-from-the-max96717">
<h3>Looping back the On-Board MAX96717 to the On-Board MAX96724 (streaming a checkerboard pattern from the MAX96717)<a class="headerlink" href="#looping-back-the-on-board-max96717-to-the-on-board-max96724-streaming-a-checkerboard-pattern-from-the-max96717" title="Link to this heading"></a></h3>
<p>In this exercise, the functionality of both the MAX96717 and the MAX96724 on the
AD-GMSL522-SL board will be exercised. The MAX96717 will uses its internal
pattern generator functionality to build a checkboard pattern and then send that
pattern to the MAX96724 which will pass that pattern along to the Jetson to be
viewed. This exercise will utilize the following:</p>
<ul class="simple">
<li><dl class="simple">
<dt>A Windows PC to run the GMSL GUI</dt><dd><ul>
<li><p>Pattern Generator Tool</p></li>
<li><p>CSI Programming Tool</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>qv4l2 on the Jetson</p></li>
<li><p>Device Tree “-3”  to allow generic input video stream resolutions, datatypes, and frame rates. Make sure to update the extconf.txt file. If you do not know how to do this, refer back to this section.</p></li>
</ul>
<p>Follow these steps to stream the pattern generator tool on the AD-GMSL522-SL
board:</p>
<p>To start, set up your hardware like in the diagram below. Depending on whether
or not you are using NoMachine or some other remote-viewing software, your
setup may differ. The critical part is that there is a COAX cable connected
between the MAX96717 output, and the MAX96724 input “A”.</p>
<img alt="../../../../_images/viper_pattern_generator_setup.png" src="../../../../_images/viper_pattern_generator_setup.png" />
<ol class="arabic">
<li><dl class="simple">
<dt>On the AD-GMSL522-SL board, start the GMSL server:</dt><dd><ul class="simple">
<li><p>./gmsl-uart-server –i2c=/dev/i2c-1 –serial=/dev/ttyGS0</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>On your Windows PC, start the GUI and verify you can detect the GMSL SERDES.
- Use the CSI Programming Tool to build a script that has the following parameters (recall that the MAX96724 is using I2C address 0x4E, and the MAX96717 is using I2C address 0x84):</p>
<blockquote>
<div><ul class="simple">
<li><p>‘RGB888 Datatype with Virtual Channel 0’ input to the serializer (technically, the RGB888 will be generated in the serializer, but we need this step to get to the next step)</p></li>
<li><p>‘RGB888 Datatype with Virtual Channel 0’ output from the deserializer on MIPI Port B.</p></li>
<li><p>Generate the script and save it somewhere you can find it.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>You can verify your by checking it against the script in the proper appendix.</p></li>
<li><p>Use that script to program the SERDES using the Load (.CPP) function the GMSL GUI.</p></li>
<li><p>Now, open the “Video Timing and Pattern Generator” Tool in the GUI</p></li>
<li><p>Set the parameters of the tool to match what is shown below:</p>
<blockquote>
<div><img alt="../../../../_images/viper_video_pattern_generator.png" src="../../../../_images/viper_video_pattern_generator.png" />
</div></blockquote>
</li>
<li><p>Click the “Start Video Generation” button at the bottom of the window to start the generator.</p></li>
</ol>
<p>If everything has been done correctly up to this point, MIPI data should be
leaving the MAX96724 from MIPI Port B and going to the Jetson. This can be
verified by reading register 0x08D1 in the MAX96724. If the register value is
toggling, you know data is outputting the deserializer.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>Configure the jetson to expect an input resolution of 1920x1080 and RAW12 pixel format</dt><dd><ul>
<li><p>v4l2-ctl –device /dev/video2 –set-fmt-video=width=1920,height=1080,pixelformat=AR24</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Start the video streaming application, qv4l2, from video device 2</dt><dd><ul>
<li><p>qv4l2 -d /dev/video2</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Click the green play button to begin streaming the checkerboard.</p></li>
</ul>
</div></blockquote>
<p>At this point, a black and white checkboard should be shown on the display.
Because the pattern generator builds a static image, it will look like the frame
is frozen. Your screen should look similar to this:</p>
<a class="reference internal image-reference" href="../../../../_images/gmsl_gui_pattern_generator_output_showing.png"><img alt="../../../../_images/gmsl_gui_pattern_generator_output_showing.png" src="../../../../_images/gmsl_gui_pattern_generator_output_showing.png" style="width: 600px;" />
</a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="debugging-csi-input-to-ad-gmsl522-sl-board">
<h2>Debugging CSI Input to AD-GMSL522-SL Board<a class="headerlink" href="#debugging-csi-input-to-ad-gmsl522-sl-board" title="Link to this heading"></a></h2>
<p>If the SERDES and Sensor are properly programmed, and CSI data is going to the
Jetson, you can use the following technique to attempt to debug. To see the
low-level details of the MIPI interface to the Jetson, we must enable tracing.
Follow these steps to see the trace details:</p>
<ol class="arabic">
<li><p>Enable tracing. This step must be done as a ‘super user’. Even creating the
file must be done as a super user.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>Become a super user</dt><dd><ul>
<li><p>sudo su</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Create a shell script with the following contents</dt><dd><ul>
<li><p>E.g. (vim enable_tracing.sh)</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /bin/sh</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">echo</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">tracing</span><span class="o">/</span><span class="n">tracing_on</span> <span class="n">sudo</span> <span class="n">echo</span> <span class="mi">30720</span> <span class="o">&gt;</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">tracing</span><span class="o">/</span><span class="n">buffer_size_kb</span> <span class="n">sudo</span> <span class="n">echo</span> <span class="mi">1</span> <span class="o">&gt;</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">tracing</span><span class="o">/</span><span class="n">events</span><span class="o">/</span><span class="n">tegra_rtcpu</span><span class="o">/</span><span class="n">enable</span> <span class="n">sudo</span> <span class="n">echo</span> <span class="mi">1</span> <span class="o">&gt;</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">tracing</span><span class="o">/</span><span class="n">events</span><span class="o">/</span><span class="n">freertos</span><span class="o">/</span><span class="n">enable</span> <span class="n">sudo</span> <span class="n">echo</span> <span class="mi">2</span> <span class="o">&gt;</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">camrtc</span><span class="o">/</span><span class="n">log</span><span class="o">-</span><span class="n">level</span> <span class="n">sudo</span> <span class="n">echo</span> <span class="mi">1</span> <span class="o">&gt;</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">tracing</span><span class="o">/</span><span class="n">events</span><span class="o">/</span><span class="n">camera_common</span><span class="o">/</span><span class="n">enable</span> <span class="n">sudo</span> <span class="n">echo</span> <span class="o">&gt;</span>
<span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">tracing</span><span class="o">/</span><span class="n">trace</span>

<span class="n">sudo</span> <span class="n">echo</span> <span class="n">file</span> <span class="n">vi2_fops</span><span class="o">.</span><span class="n">c</span> <span class="o">+</span><span class="n">p</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">dynamic_debug</span><span class="o">/</span><span class="n">control</span> <span class="n">sudo</span> <span class="n">echo</span>
<span class="n">file</span> <span class="n">csi2_fops</span><span class="o">.</span><span class="n">c</span> <span class="o">+</span><span class="n">p</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">dynamic_debug</span><span class="o">/</span><span class="n">control</span>

<span class="n">sudo</span> <span class="n">echo</span> <span class="n">file</span> <span class="n">vi4_fops</span><span class="o">.</span><span class="n">c</span> <span class="o">+</span><span class="n">p</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">dynamic_debug</span><span class="o">/</span><span class="n">control</span> <span class="n">sudo</span> <span class="n">echo</span>
<span class="n">file</span> <span class="n">csi</span><span class="o">.</span><span class="n">c</span> <span class="o">+</span><span class="n">p</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">dynamic_debug</span><span class="o">/</span><span class="n">control</span> <span class="n">sudo</span> <span class="n">echo</span> <span class="n">file</span>
<span class="n">csi4_fops</span><span class="o">.</span><span class="n">c</span> <span class="o">+</span><span class="n">p</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">dynamic_debug</span><span class="o">/</span><span class="n">control</span> <span class="n">sudo</span> <span class="n">echo</span> <span class="n">file</span> <span class="n">nvcsi</span><span class="o">.</span><span class="n">c</span>
<span class="o">+</span><span class="n">p</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">dynamic_debug</span><span class="o">/</span><span class="n">control</span>

<span class="n">sudo</span> <span class="n">cat</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">kernel</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">tracing</span><span class="o">/</span><span class="n">trace</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Make this file executable</dt><dd><ul class="simple">
<li><p>chmod +x &lt;file name&gt; (E.g. chmod +x enable_tracing.sh)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Execute the script</dt><dd><ul class="simple">
<li><p>enable_tracing.sh</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Now enable streaming using qv4l2, for instance.</p></li>
<li><p>Let the stream run for a several seconds to collect enough data</p></li>
<li><p>Save the trace logs</p></li>
<li><p>cat /sys/kernel/debug/tracing/trace &gt; trace_output.txt</p></li>
<li><p>View the logs</p></li>
</ol>
<p>The error codes can be found in the logs. Here is one example:</p>
<img alt="../../../../_images/viper_debugging_csi_shortframe.png" src="../../../../_images/viper_debugging_csi_shortframe.png" />
<p>Additionally, the Orin Technical Reference Manual (TRM) can be found on NVIDIA’s
collateral site to get more information on the errors. This is an excerpt from
the TRM:</p>
<img alt="../../../../_images/viper_debugging_csi_orin_trm.png" src="../../../../_images/viper_debugging_csi_orin_trm.png" />
<p>More info on this technique and what the trace is saying can be found here:
<a href="#id3"><span class="problematic" id="id4">`https://elinux.org/Jetson/l4t/Camera_BringUp`_</span></a></p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="other-helpful-software-and-improvements">
<h2>Other Helpful Software and Improvements<a class="headerlink" href="#other-helpful-software-and-improvements" title="Link to this heading"></a></h2>
<section id="viewing-ad-gmsl522-sl-remotely-using-nomachine">
<h3>Viewing AD-GMSL522-SL Remotely Using NoMachine<a class="headerlink" href="#viewing-ad-gmsl522-sl-remotely-using-nomachine" title="Link to this heading"></a></h3>
<p>NoMachine allows users to connect to any computer with very little latency and
high resolution. This is recommended to be used because of the common use case
of viewing video data requires low latency and high-resolution video. Compared
to other remote desktop viewers, NoMachine has much higher quality video
streaming. To install NoMachine on your AD-GMSL522-SL Board and Host PC, follow
this tutorial from Jetsonhacks: <a href="#id5"><span class="problematic" id="id6">`https://jetsonhacks.com/2023/12/03/nomachine-jetson-remote-desktop/`_</span></a> Or view
their own documentation at: <a href="#id7"><span class="problematic" id="id8">`https://www.nomachine.com/`_</span></a></p>
</section>
<section id="booting-from-nvme">
<h3>Booting From NVMe<a class="headerlink" href="#booting-from-nvme" title="Link to this heading"></a></h3>
<p>The default memory module on the Jetson Xavier is only 16GB large. Given the
fact that the AD-GMSL522-SL GMSL kernel is already ~14GB large, there is not
much space left to do anything useful. One way to remedy this situation is to
buy and use an NVMe. NVMe is typically much faster than the internal eMMC of the
Xavier NX so the upgrade is not just space, but speed as well. To get this
upgrade, one can buy the vetted NVMe module in the “Recommended Hardware”
section of this document, and then follow the tutorial from JetsonHacks on how
to boot from NVMe.</p>
<ul class="simple">
<li><p><a href="#id9"><span class="problematic" id="id10">`https://github.com/jetsonhacks/rootOnNVMe`_</span></a></p></li>
<li><p><a href="#id11"><span class="problematic" id="id12">`https://www.youtube.com/watch?v=ZK5FYhoJqIg`_</span></a></p></li>
</ul>
</section>
<section id="booting-from-sd-card">
<h3>Booting From SD Card<a class="headerlink" href="#booting-from-sd-card" title="Link to this heading"></a></h3>
<p>Boot via SD card will be done the same way as an NVMe. In the case of the Jetson
Xavier NX, the SOM will always boot from eMMC, initially, but if properly
configured, can then hand over the boot process to another memory medium.
Therefore, it will always be required that a working image is flashed to the
eMMC of the Jetson, and then, that, or a new filesystem, is placed onto the SD
card.</p>
</section>
<section id="restarting-the-fan-service">
<h3>Restarting the Fan Service<a class="headerlink" href="#restarting-the-fan-service" title="Link to this heading"></a></h3>
<p>There is a known bug on the NVIDIA forums stating that sometimes, the fan will
run at full speed constantly. This appeared in Jetpack Version 5.1 it is
believed. To fix this issue, run the following command:</p>
<dl class="simple">
<dt>::</dt><dd><p>sudo systemctl restart nvfancontrol.service</p>
</dd>
</dl>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="ad-gmsl522-sl-hardware-specifics">
<h2>AD-GMSL522-SL Hardware Specifics<a class="headerlink" href="#ad-gmsl522-sl-hardware-specifics" title="Link to this heading"></a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>There is a separate document that goes into more details on
these following hardware topics. See: <a class="reference external" href="https://wiki.analog.com/resources/eval/user-guides/ad-gmsl522-sl/hardware">AD-GMSL522-SL Hardware Guide</a></p>
</div>
<section id="block-diagram">
<h3>Block Diagram<a class="headerlink" href="#block-diagram" title="Link to this heading"></a></h3>
<a class="reference internal image-reference" href="../../../../_images/ad-gmsl522-sl_block_diagram2.png"><img alt="../../../../_images/ad-gmsl522-sl_block_diagram2.png" src="../../../../_images/ad-gmsl522-sl_block_diagram2.png" style="width: 600px;" />
</a>
</section>
<section id="i2c">
<h3>I2C<a class="headerlink" href="#i2c" title="Link to this heading"></a></h3>
<p>There are multiple ways to interface with the GMSL devices on AD-GMSL522-SL such
as the Linux I2CSET and I2CGET functions as well as smbus, though, regardless of
the method, one should pay attention to which I2C bus of the Jetson is connected
to which GMSL parts or connectors. See below for some example commands and what
bus goes where.</p>
<ul class="simple">
<li><p>I2C Bus 1: MAX96724, MAX96717</p></li>
<li><p>I2C Bus 2: CSI SAMTEC Connector</p></li>
</ul>
<p>Some example commands to test out I2C are below:</p>
<ul class="simple">
<li><p>i2cdetect -y -r 1 (reads all devices on the I2C Bus #1. If a device is
detected, its 7-bit address is noted)</p></li>
</ul>
</section>
<section id="mipi-qth-samtec-connector">
<h3>MIPI / QTH SAMTEC CONNECTOR<a class="headerlink" href="#mipi-qth-samtec-connector" title="Link to this heading"></a></h3>
<p>A QTH-030-01-L-D-A high speed connector is present on the bottom of the board.
GMSL to CSI deserializer evaluation kits can be connected here. In the default
configuration, if an evaluation kit is mounted on the carrier board, power to it
will not be supplied by the carrier board. R136, R153, R152 can be soldered on
the carrier to connect the Evkit to the power supplies of the AD-GMSL522-SL
carrier board.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Please check the board and don’t plug the power supply of the
evkit connected to P1 if R152 is installed&lt;/note&gt; 12 MIPI CSI lanes (CSI0-CSI3)
of the XavierNX are routed to this connector, supporting either 4x2, 2x4 CSI-2
DPHY v1.2 configurations.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="appendix-proper-script-for-pattern-generator-viewing-exercise">
<h2>Appendix (proper script for pattern generator viewing exercise)<a class="headerlink" href="#appendix-proper-script-for-pattern-generator-viewing-exercise" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Name: dmcginle</span>
<span class="c1"># Date: 4/22/2024</span>
<span class="c1"># Version: 6.6.5</span>
<span class="c1">#</span>
<span class="c1"># I2C Address(0x), Register Address(0x), Register Value(0x), Read Modify Write(0x)</span>
<span class="c1">#</span>
<span class="c1"># THIS DATA FILE, AND ALL INFORMATION CONTAINED THEREIN,</span>
<span class="c1"># IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</span>
<span class="c1"># EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO</span>
<span class="c1"># THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR</span>
<span class="c1"># PURPOSE AND NONINFRINGEMENT.</span>
<span class="c1"># IN NO EVENT SHALL ANALOG DEVICES, INC. BE LIABLE FOR ANY CLAIM,</span>
<span class="c1"># DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,</span>
<span class="c1"># TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE DATA FILE,</span>
<span class="c1"># THE INFORMATION CONTAINED THEREIN, OR ITS USE FOR ANY PURPOSE.</span>
<span class="c1"># BEFORE USING THIS DATA FILE IN ANY APPLICATION FOR PRODUCTION OR DEPLOYMENT,</span>
<span class="c1"># THE CUSTOMER IS SOLELY RESPONSIBLE FOR TESTING AND VERIFYING</span>
<span class="c1"># THE CONTENT OF THIS DATA FILE IN CONNECTION WITH THEIR PRODUCTS AND SYSTEM(S).</span>
<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="c1">#</span>
<span class="c1">#            _____ _____</span>
<span class="c1">#      /\   |  __ \_   _|</span>
<span class="c1">#     /  \  | |  | || |</span>
<span class="c1">#    / /\ \ | |  | || |</span>
<span class="c1">#   / ____ \| |__| || |_</span>
<span class="c1">#  /_/    \_\_____/_____|</span>
<span class="c1">#</span>
<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="o">*/</span>
<span class="o">/*</span>
<span class="c1"># This script is validated on:</span>
<span class="c1"># MAX96717</span>
<span class="c1"># MAX96724</span>
<span class="c1"># Please refer to the Errata sheet for each device.</span>
<span class="c1"># ---------------------------------------------------------------------------------</span>
<span class="o">*/</span>
<span class="o">//</span>
<span class="o">//</span> <span class="n">CSIConfigurationTool</span>
<span class="o">//</span>
<span class="o">//</span> <span class="n">GMSL</span><span class="o">-</span><span class="n">A</span> <span class="o">/</span> <span class="n">Serializer</span><span class="p">:</span> <span class="n">MAX96717</span> <span class="p">(</span><span class="n">Pixel</span> <span class="n">Mode</span><span class="p">)</span> <span class="o">/</span> <span class="n">Mode</span><span class="p">:</span> <span class="mi">1</span><span class="n">x4</span> <span class="o">/</span> <span class="n">Device</span> <span class="n">Address</span><span class="p">:</span> <span class="mh">0x84</span> <span class="o">/</span> <span class="n">Multiple</span><span class="o">-</span><span class="n">VC</span> <span class="n">Case</span><span class="p">:</span> <span class="n">Single</span> <span class="n">VC</span> <span class="o">/</span> <span class="n">Pipe</span> <span class="n">Sharing</span><span class="p">:</span> <span class="n">Separate</span> <span class="n">Pipes</span>
<span class="o">//</span> <span class="n">PipeZ</span><span class="p">:</span>
<span class="o">//</span> <span class="n">Input</span> <span class="n">Stream</span><span class="p">:</span> <span class="n">VC0</span> <span class="n">RGB888</span> <span class="n">PortB</span> <span class="p">(</span><span class="n">D</span><span class="o">-</span><span class="n">PHY</span><span class="p">)</span>

<span class="o">//</span> <span class="n">Deserializer</span><span class="p">:</span> <span class="n">MAX96724</span> <span class="o">/</span> <span class="n">Mode</span><span class="p">:</span> <span class="mi">2</span> <span class="p">(</span><span class="mi">1</span><span class="n">x4</span><span class="p">)</span> <span class="o">/</span> <span class="n">Device</span> <span class="n">Address</span><span class="p">:</span> <span class="mh">0x4E</span>
<span class="o">//</span> <span class="n">Pipe0</span><span class="p">:</span>
<span class="o">//</span> <span class="n">GMSL</span><span class="o">-</span><span class="n">A</span> <span class="n">Input</span> <span class="n">Stream</span><span class="p">:</span> <span class="n">VC0</span> <span class="n">RGB888</span> <span class="n">PortB</span> <span class="o">-</span> <span class="n">Output</span> <span class="n">Stream</span><span class="p">:</span> <span class="n">VC0</span> <span class="n">RGB888</span> <span class="n">PortB</span> <span class="p">(</span><span class="n">D</span><span class="o">-</span><span class="n">PHY</span><span class="p">)</span>

<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x04</span><span class="p">,</span><span class="mh">0x0B</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">BACKTOP</span> <span class="p">:</span> <span class="n">BACKTOP12</span> <span class="o">|</span> <span class="n">CSI_OUT_EN</span> <span class="p">(</span><span class="n">CSI_OUT_EN</span><span class="p">):</span> <span class="n">CSI</span> <span class="n">output</span> <span class="n">disabled</span>
<span class="o">//</span> <span class="n">Link</span> <span class="n">Initialization</span> <span class="k">for</span> <span class="n">Deserializer</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x06</span><span class="p">,</span><span class="mh">0xF1</span><span class="p">,</span> <span class="o">//</span> <span class="n">DEV</span> <span class="p">:</span> <span class="n">REG6</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">LINK_EN_A</span> <span class="p">(</span><span class="n">LINK_EN_A</span><span class="p">):</span> <span class="n">Enabled</span> <span class="o">|</span> <span class="n">LINK_EN_B</span> <span class="p">(</span><span class="n">LINK_EN_B</span><span class="p">):</span> <span class="n">Disabled</span> <span class="o">|</span> <span class="n">LINK_EN_C</span> <span class="p">(</span><span class="n">LINK_EN_C</span><span class="p">):</span> <span class="n">Disabled</span> <span class="o">|</span> <span class="n">LINK_EN_D</span> <span class="p">(</span><span class="n">LINK_EN_D</span><span class="p">):</span> <span class="n">Disabled</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0xFE</span><span class="p">,</span> <span class="o">//</span> <span class="n">DEV</span> <span class="p">:</span> <span class="n">REG3</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">DIS_REM_CC_A</span> <span class="p">(</span><span class="n">GMSL</span> <span class="n">Link</span> <span class="n">A</span> <span class="n">I2C</span> <span class="n">Port</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Enabled</span> <span class="o">|</span> <span class="n">DIS_REM_CC_B</span> <span class="p">(</span><span class="n">GMSL</span> <span class="n">Link</span> <span class="n">B</span> <span class="n">I2C</span> <span class="n">Port</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Disabled</span> <span class="o">|</span> <span class="n">DIS_REM_CC_C</span> <span class="p">(</span><span class="n">GMSL</span> <span class="n">Link</span> <span class="n">C</span> <span class="n">I2C</span> <span class="n">Port</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Disabled</span> <span class="o">|</span> <span class="n">DIS_REM_CC_D</span> <span class="p">(</span><span class="n">GMSL</span> <span class="n">Link</span> <span class="n">D</span> <span class="n">I2C</span> <span class="n">Port</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Disabled</span>
<span class="mh">0x00</span><span class="p">,</span><span class="mh">0x01</span><span class="p">,</span> <span class="o">//</span> <span class="ne">Warning</span><span class="p">:</span> <span class="n">The</span> <span class="n">actual</span> <span class="n">recommended</span> <span class="n">delay</span> <span class="ow">is</span> <span class="mi">5</span> <span class="n">usec</span><span class="o">.</span>
<span class="o">//</span> <span class="n">Video</span> <span class="n">Transmit</span> <span class="n">Configuration</span> <span class="k">for</span> <span class="n">Serializer</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x02</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span> <span class="o">//</span> <span class="n">DEV</span> <span class="p">:</span> <span class="n">REG2</span> <span class="o">|</span> <span class="n">VID_TX_EN_Z</span> <span class="p">(</span><span class="n">VID_TX_EN_Z</span><span class="p">):</span> <span class="n">Disabled</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x02</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span> <span class="o">//</span> <span class="n">DEV</span> <span class="p">:</span> <span class="n">REG2</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">VID_TX_EN_Z</span> <span class="p">(</span><span class="n">VID_TX_EN_Z</span><span class="p">):</span> <span class="n">Disabled</span>
<span class="o">//</span>
<span class="o">//</span> <span class="n">INSTRUCTIONS</span> <span class="n">FOR</span> <span class="n">GMSL</span><span class="o">-</span><span class="n">A</span> <span class="n">SERIALIZER</span> <span class="n">MAX96717</span>
<span class="o">//</span>
<span class="o">//</span> <span class="n">MIPI</span> <span class="n">D</span><span class="o">-</span><span class="n">PHY</span> <span class="n">Configuration</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x30</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_RX</span> <span class="p">:</span> <span class="n">MIPI_RX0</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">RSVD</span> <span class="p">(</span><span class="n">Port</span> <span class="n">Configuration</span><span class="p">):</span> <span class="mi">1</span><span class="n">x4</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x83</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_RX_EXT</span> <span class="p">:</span> <span class="n">EXT11</span> <span class="o">|</span> <span class="n">Tun_Mode</span> <span class="p">(</span><span class="n">Tunnel</span> <span class="n">Mode</span><span class="p">):</span> <span class="n">Disabled</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x31</span><span class="p">,</span><span class="mh">0x30</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_RX</span> <span class="p">:</span> <span class="n">MIPI_RX1</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">ctrl1_num_lanes</span> <span class="p">(</span><span class="n">Port</span> <span class="n">B</span> <span class="o">-</span> <span class="n">Lane</span> <span class="n">Count</span><span class="p">):</span> <span class="mi">4</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x32</span><span class="p">,</span><span class="mh">0xE0</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_RX</span> <span class="p">:</span> <span class="n">MIPI_RX2</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy1_lane_map</span> <span class="p">(</span><span class="n">Lane</span> <span class="n">Map</span> <span class="o">-</span> <span class="n">PHY1</span> <span class="n">D0</span><span class="p">):</span> <span class="n">Lane</span> <span class="mi">2</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy1_lane_map</span> <span class="p">(</span><span class="n">Lane</span> <span class="n">Map</span> <span class="o">-</span> <span class="n">PHY1</span> <span class="n">D1</span><span class="p">):</span> <span class="n">Lane</span> <span class="mi">3</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x33</span><span class="p">,</span><span class="mh">0x04</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_RX</span> <span class="p">:</span> <span class="n">MIPI_RX3</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_lane_map</span> <span class="p">(</span><span class="n">Lane</span> <span class="n">Map</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">D0</span><span class="p">):</span> <span class="n">Lane</span> <span class="mi">0</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_lane_map</span> <span class="p">(</span><span class="n">Lane</span> <span class="n">Map</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">D1</span><span class="p">):</span> <span class="n">Lane</span> <span class="mi">1</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x34</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_RX</span> <span class="p">:</span> <span class="n">MIPI_RX4</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy1_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY1</span> <span class="n">Lane</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Normal</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy1_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY1</span> <span class="n">Lane</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Normal</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x35</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_RX</span> <span class="p">:</span> <span class="n">MIPI_RX5</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">Lane</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Normal</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">Lane</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Normal</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">Clock</span> <span class="n">Lane</span><span class="p">):</span> <span class="n">Normal</span>
<span class="o">//</span> <span class="n">Controller</span> <span class="n">to</span> <span class="n">Pipe</span> <span class="n">Mapping</span> <span class="n">Configuration</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x08</span><span class="p">,</span><span class="mh">0x64</span><span class="p">,</span> <span class="o">//</span> <span class="n">FRONTTOP</span> <span class="p">:</span> <span class="n">FRONTTOP_0</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">RSVD</span> <span class="p">(</span><span class="n">CLK_SELZ</span><span class="p">):</span> <span class="n">Port</span> <span class="n">B</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">START_PORTB</span> <span class="p">(</span><span class="n">START_PORTB</span><span class="p">):</span> <span class="n">Enabled</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x11</span><span class="p">,</span><span class="mh">0x40</span><span class="p">,</span> <span class="o">//</span> <span class="n">FRONTTOP</span> <span class="p">:</span> <span class="n">FRONTTOP_9</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">START_PORTBZ</span> <span class="p">(</span><span class="n">START_PORTBZ</span><span class="p">):</span> <span class="n">Start</span> <span class="n">Video</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x03</span><span class="p">,</span><span class="mh">0x18</span><span class="p">,</span><span class="mh">0x64</span><span class="p">,</span> <span class="o">//</span> <span class="n">FRONTTOP</span> <span class="p">:</span> <span class="n">FRONTTOP_16</span> <span class="o">|</span> <span class="n">mem_dt1_selz</span> <span class="p">(</span><span class="n">mem_dt1_selz</span><span class="p">):</span> <span class="mh">0x64</span>
<span class="o">//</span> <span class="n">Pipe</span> <span class="n">Configuration</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x5B</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">CFGV__VIDEO_Z</span> <span class="p">:</span> <span class="n">TX3</span> <span class="o">|</span> <span class="n">TX_STR_SEL</span> <span class="p">(</span><span class="n">TX_STR_SEL</span> <span class="n">Pipe</span> <span class="n">Z</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="o">//</span>
<span class="o">//</span> <span class="n">INSTRUCTIONS</span> <span class="n">FOR</span> <span class="n">DESERIALIZER</span> <span class="n">MAX96724</span>
<span class="o">//</span>
<span class="o">//</span> <span class="n">Video</span> <span class="n">Pipes</span> <span class="n">And</span> <span class="n">Routing</span> <span class="n">Configuration</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0xF0</span><span class="p">,</span><span class="mh">0x60</span><span class="p">,</span> <span class="o">//</span> <span class="n">VIDEO_PIPE_SEL</span> <span class="p">:</span> <span class="n">VIDEO_PIPE_SEL_0</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">VIDEO_PIPE_SEL_0</span> <span class="p">(</span><span class="n">Pipe</span> <span class="mi">0</span> <span class="n">GMSL2</span> <span class="n">PHY</span><span class="p">):</span> <span class="n">A</span> <span class="o">|</span> <span class="n">VIDEO_PIPE_SEL_0</span> <span class="p">(</span><span class="n">Pipe</span> <span class="mi">0</span> <span class="n">Input</span> <span class="n">Pipe</span><span class="p">):</span> <span class="n">X</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0xF4</span><span class="p">,</span><span class="mh">0x01</span><span class="p">,</span> <span class="o">//</span> <span class="n">VIDEO_PIPE_SEL</span> <span class="p">:</span> <span class="n">VIDEO_PIPE_EN</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">VIDEO_PIPE_EN</span> <span class="p">(</span><span class="n">Video</span> <span class="n">Pipe</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Enabled</span> <span class="o">|</span> <span class="n">VIDEO_PIPE_EN</span> <span class="p">(</span><span class="n">Video</span> <span class="n">Pipe</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Disabled</span> <span class="o">|</span> <span class="n">VIDEO_PIPE_EN</span> <span class="p">(</span><span class="n">Video</span> <span class="n">Pipe</span> <span class="mi">2</span><span class="p">):</span> <span class="n">Disabled</span> <span class="o">|</span> <span class="n">VIDEO_PIPE_EN</span> <span class="p">(</span><span class="n">Video</span> <span class="n">Pipe</span> <span class="mi">3</span><span class="p">):</span> <span class="n">Disabled</span> <span class="o">|</span> <span class="n">STREAM_SEL_ALL</span> <span class="p">(</span><span class="n">Stream</span> <span class="n">Select</span> <span class="n">All</span><span class="p">):</span> <span class="n">Disabled</span>
<span class="o">//</span> <span class="n">Pipe</span> <span class="n">to</span> <span class="n">Controller</span> <span class="n">Mapping</span> <span class="n">Configuration</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x0B</span><span class="p">,</span><span class="mh">0x07</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX11</span> <span class="o">|</span> <span class="n">MAP_EN_L</span> <span class="p">(</span><span class="n">MAP_EN_L</span> <span class="n">Pipe</span> <span class="mi">0</span><span class="p">):</span> <span class="mh">0x7</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x0C</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX12</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_EN_H</span> <span class="p">(</span><span class="n">MAP_EN_H</span> <span class="n">Pipe</span> <span class="mi">0</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x0D</span><span class="p">,</span><span class="mh">0x24</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX13</span> <span class="o">|</span> <span class="n">MAP_SRC_0</span> <span class="p">(</span><span class="n">MAP_SRC_0</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">DT</span><span class="p">):</span> <span class="mh">0x24</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_SRC_0</span> <span class="p">(</span><span class="n">MAP_SRC_0</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">VC</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x0E</span><span class="p">,</span><span class="mh">0x24</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX14</span> <span class="o">|</span> <span class="n">MAP_DST_0</span> <span class="p">(</span><span class="n">MAP_DST_0</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">DT</span><span class="p">):</span> <span class="mh">0x24</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_DST_0</span> <span class="p">(</span><span class="n">MAP_DST_0</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">VC</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x0F</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX15</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_SRC_1</span> <span class="p">(</span><span class="n">MAP_SRC_1</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">DT</span><span class="p">):</span> <span class="mh">0x0</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_SRC_1</span> <span class="p">(</span><span class="n">MAP_SRC_1</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">VC</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x10</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX16</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_DST_1</span> <span class="p">(</span><span class="n">MAP_DST_1</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">DT</span><span class="p">):</span> <span class="mh">0x0</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_DST_1</span> <span class="p">(</span><span class="n">MAP_DST_1</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">VC</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x11</span><span class="p">,</span><span class="mh">0x01</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX17</span> <span class="o">|</span> <span class="n">MAP_SRC_2</span> <span class="p">(</span><span class="n">MAP_SRC_2</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">DT</span><span class="p">):</span> <span class="mh">0x1</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_SRC_2</span> <span class="p">(</span><span class="n">MAP_SRC_2</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">VC</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x12</span><span class="p">,</span><span class="mh">0x01</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX18</span> <span class="o">|</span> <span class="n">MAP_DST_2</span> <span class="p">(</span><span class="n">MAP_DST_2</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">DT</span><span class="p">):</span> <span class="mh">0x1</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">MAP_DST_2</span> <span class="p">(</span><span class="n">MAP_DST_2</span> <span class="n">Pipe</span> <span class="mi">0</span> <span class="n">VC</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x2D</span><span class="p">,</span><span class="mh">0x2A</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__0</span> <span class="p">:</span> <span class="n">MIPI_TX45</span> <span class="o">|</span> <span class="n">MAP_DPHY_DEST_0</span> <span class="p">(</span><span class="n">MAP_DPHY_DST_0</span> <span class="n">Pipe</span> <span class="mi">0</span><span class="p">):</span> <span class="mh">0x2</span> <span class="o">|</span> <span class="n">MAP_DPHY_DEST_1</span> <span class="p">(</span><span class="n">MAP_DPHY_DST_1</span> <span class="n">Pipe</span> <span class="mi">0</span><span class="p">):</span> <span class="mh">0x2</span> <span class="o">|</span> <span class="n">MAP_DPHY_DEST_2</span> <span class="p">(</span><span class="n">MAP_DPHY_DST_2</span> <span class="n">Pipe</span> <span class="mi">0</span><span class="p">):</span> <span class="mh">0x2</span>
<span class="o">//</span> <span class="n">Double</span> <span class="n">Mode</span> <span class="n">Configuration</span>
<span class="o">//</span> <span class="n">MIPI</span> <span class="n">D</span><span class="o">-</span><span class="n">PHY</span> <span class="n">Configuration</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x08</span><span class="p">,</span><span class="mh">0xA0</span><span class="p">,</span><span class="mh">0x04</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_PHY</span> <span class="p">:</span> <span class="n">MIPI_PHY0</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy_4x2</span> <span class="p">(</span><span class="n">Port</span> <span class="n">Configuration</span><span class="p">):</span> <span class="mi">2</span> <span class="p">(</span><span class="mi">1</span><span class="n">x4</span><span class="p">)</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x8A</span><span class="p">,</span><span class="mh">0xD0</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__2</span> <span class="p">:</span> <span class="n">MIPI_TX10</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">CSI2_LANE_CNT</span> <span class="p">(</span><span class="n">Port</span> <span class="n">B</span> <span class="o">-</span> <span class="n">Lane</span> <span class="n">Count</span><span class="p">):</span> <span class="mi">4</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x08</span><span class="p">,</span><span class="mh">0xA4</span><span class="p">,</span><span class="mh">0xE4</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_PHY</span> <span class="p">:</span> <span class="n">MIPI_PHY4</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_lane_map</span> <span class="p">(</span><span class="n">Lane</span> <span class="n">Map</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">D0</span><span class="p">):</span> <span class="n">Lane</span> <span class="mi">0</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_lane_map</span> <span class="p">(</span><span class="n">Lane</span> <span class="n">Map</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">D1</span><span class="p">):</span> <span class="n">Lane</span> <span class="mi">1</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy3_lane_map</span> <span class="p">(</span><span class="n">Lane</span> <span class="n">Map</span> <span class="o">-</span> <span class="n">PHY3</span> <span class="n">D0</span><span class="p">):</span> <span class="n">Lane</span> <span class="mi">2</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy3_lane_map</span> <span class="p">(</span><span class="n">Lane</span> <span class="n">Map</span> <span class="o">-</span> <span class="n">PHY3</span> <span class="n">D1</span><span class="p">):</span> <span class="n">Lane</span> <span class="mi">3</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x08</span><span class="p">,</span><span class="mh">0xA6</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_PHY</span> <span class="p">:</span> <span class="n">MIPI_PHY6</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">Lane</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Normal</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">Lane</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Normal</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy3_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY3</span> <span class="n">Lane</span> <span class="mi">0</span><span class="p">):</span> <span class="n">Normal</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy3_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY3</span> <span class="n">Lane</span> <span class="mi">1</span><span class="p">):</span> <span class="n">Normal</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">phy2_pol_map</span> <span class="p">(</span><span class="n">Polarity</span> <span class="o">-</span> <span class="n">PHY2</span> <span class="n">Clock</span> <span class="n">Lane</span><span class="p">):</span> <span class="n">Normal</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x83</span><span class="p">,</span><span class="mh">0x07</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__2</span> <span class="p">:</span> <span class="n">MIPI_TX3</span> <span class="o">|</span> <span class="n">DESKEW_INIT</span> <span class="p">(</span><span class="n">Controller</span> <span class="mi">2</span> <span class="n">Auto</span> <span class="n">Initial</span> <span class="n">Deskew</span><span class="p">):</span> <span class="n">Disabled</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x09</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x01</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_TX__2</span> <span class="p">:</span> <span class="n">MIPI_TX4</span> <span class="o">|</span> <span class="n">DESKEW_PER</span> <span class="p">(</span><span class="n">Controller</span> <span class="mi">2</span> <span class="n">Periodic</span> <span class="n">Deskew</span><span class="p">):</span> <span class="n">Disabled</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x1E</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0xF4</span><span class="p">,</span> <span class="o">//</span>  <span class="p">(</span><span class="n">config_soft_rst_n</span> <span class="o">-</span> <span class="n">PHY2</span><span class="p">):</span> <span class="mh">0x0</span>
<span class="o">//</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">to</span> <span class="nb">set</span> <span class="n">predefined</span> <span class="p">(</span><span class="n">coarse</span><span class="p">)</span> <span class="n">CSI</span> <span class="n">output</span> <span class="n">frequency</span>
<span class="o">//</span> <span class="n">CSI</span> <span class="n">Phy</span> <span class="mi">2</span> <span class="ow">is</span> <span class="mi">1500</span> <span class="n">Mbps</span><span class="o">/</span><span class="n">lane</span><span class="o">.</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x1E</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0xF4</span><span class="p">,</span> <span class="o">//</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x04</span><span class="p">,</span><span class="mh">0x1B</span><span class="p">,</span><span class="mh">0x2F</span><span class="p">,</span> <span class="o">//</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x1E</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0xF5</span><span class="p">,</span> <span class="o">//</span>  <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span>  <span class="p">(</span><span class="n">config_soft_rst_n</span> <span class="o">-</span> <span class="n">PHY2</span><span class="p">):</span> <span class="mh">0x1</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x08</span><span class="p">,</span><span class="mh">0xA2</span><span class="p">,</span><span class="mh">0xC4</span><span class="p">,</span> <span class="o">//</span> <span class="n">MIPI_PHY</span> <span class="p">:</span> <span class="n">MIPI_PHY2</span> <span class="o">|</span> <span class="n">phy_Stdby_n</span> <span class="p">(</span><span class="n">phy_Stdby_0</span><span class="p">):</span> <span class="n">Put</span> <span class="n">PHY0</span> <span class="ow">in</span> <span class="n">standby</span> <span class="n">mode</span> <span class="o">|</span> <span class="n">phy_Stdby_n</span> <span class="p">(</span><span class="n">phy_Stdby_1</span><span class="p">):</span> <span class="n">Put</span> <span class="n">PHY1</span> <span class="ow">in</span> <span class="n">standby</span> <span class="n">mode</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x4E</span><span class="p">,</span><span class="mh">0x04</span><span class="p">,</span><span class="mh">0x0B</span><span class="p">,</span><span class="mh">0x02</span><span class="p">,</span> <span class="o">//</span> <span class="n">BACKTOP</span> <span class="p">:</span> <span class="n">BACKTOP12</span> <span class="o">|</span> <span class="n">CSI_OUT_EN</span> <span class="p">(</span><span class="n">CSI_OUT_EN</span><span class="p">):</span> <span class="n">CSI</span> <span class="n">output</span> <span class="n">enabled</span>
<span class="o">//</span> <span class="n">Video</span> <span class="n">Transmit</span> <span class="n">Configuration</span> <span class="k">for</span> <span class="n">Serializer</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x02</span><span class="p">,</span><span class="mh">0x43</span><span class="p">,</span> <span class="o">//</span> <span class="n">DEV</span> <span class="p">:</span> <span class="n">REG2</span> <span class="o">|</span> <span class="n">VID_TX_EN_Z</span> <span class="p">(</span><span class="n">VID_TX_EN_Z</span><span class="p">):</span> <span class="n">Enabled</span>
<span class="mh">0x04</span><span class="p">,</span><span class="mh">0x84</span><span class="p">,</span><span class="mh">0x00</span><span class="p">,</span><span class="mh">0x02</span><span class="p">,</span><span class="mh">0x43</span><span class="p">,</span> <span class="o">//</span> <span class="n">DEV</span> <span class="p">:</span> <span class="n">REG2</span> <span class="o">|</span> <span class="p">(</span><span class="n">Default</span><span class="p">)</span> <span class="n">VID_TX_EN_Z</span> <span class="p">(</span><span class="n">VID_TX_EN_Z</span><span class="p">):</span> <span class="n">Enabled</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<hr class="docutils" />
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="../hardware-guide/index.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">Hardware Guide</a>
    <a href="../../ad-gmslcamrpi-adp/index.html" title="Next document (Alt+Shift+RightArrow)" class="next">AD-GMSLCAMRPI-ADP#</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>