<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>AD5570R no-OS Driver User Guide &#8212; System Level Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../_static/style.min.css?v=95305861" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script defer="" src="../_static/app.umd.js?v=c93eadd1"></script>
    <link rel="icon" href="../_static/icon.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  
  <meta name="global_root" content="../../">
  <meta name="repo" content="documentation">
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <div class="banner"></div>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button value="search" class="icon"></button>
      <span id="search-progress"></span>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com"></a>
        <div class="vertical-divider"></div>
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        <a id="logo" href="../index.html">
          <div>System Level</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../index.html" class="current">System Level</a>
  <a href="../../hdl/index.html">HDL</a>
  <a href="../../testbenches/index.html">HDL Testbenches</a>
  <a href="../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../libiio/index.html">libiio</a>
  <a href="../../no-OS/index.html">no-OS</a>
  <a href="../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../PrecisionToolbox/index.html">Precision Toolbox</a>
  <a href="../../scopy/index.html">Scopy</a>
  <a href="../../doctools/index.html">Doctools</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">AD5570R no-OS Driver User Guide</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#key-features-of-ad5770r">Key Features of AD5770R</a></li>
<li><a class="reference internal" href="#applications">Applications</a></li>
<li><a class="reference internal" href="#supported-dac-model">Supported DAC Model</a></li>
<li><a class="reference internal" href="#configuration-requirements">Configuration Requirements</a></li>
<li><a class="reference internal" href="#known-limitations">Known Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#driver-initialization">Driver Initialization</a></li>
<li><a class="reference internal" href="#ad5770r-driver-function-descriptions">AD5770R Driver Function Descriptions</a></li>
<li><a class="reference internal" href="#types-declarations">Types Declarations</a></li>
<li><a class="reference internal" href="#about-the-no-os-framework">About the no-OS Framework</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../index.html">
      System Level Documentation
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../index.html" class="current">System Level</a>
  <a href="../../hdl/index.html">HDL</a>
  <a href="../../testbenches/index.html">HDL Testbenches</a>
  <a href="../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../libiio/index.html">libiio</a>
  <a href="../../no-OS/index.html">no-OS</a>
  <a href="../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../PrecisionToolbox/index.html">Precision Toolbox</a>
  <a href="../../scopy/index.html">Scopy</a>
  <a href="../../doctools/index.html">Doctools</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><p class="caption" role="heading"><span class="caption-text">Kuiper &amp; Linux Kernel</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="../linux/kuiper/index.html">Kuiper Linux</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../linux/kuiper/release-notes.html">Release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/kuiper/sdcard/index.html">SD Card flashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/kuiper/project-list.html">Project list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux/kuiper/update.html">Updating</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2" id="toctree-collapse-2"/><div class="collapse"><a class="reference internal" href="../linux/drivers/index.html">Linux drivers</a><label for="toctree-collapse-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1" id="toctree-collapse-2-1"/><div class="collapse"><a class="reference internal" href="../linux/drivers/iio-transceiver/index.html">IIO Transceivers</a><label for="toctree-collapse-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1-1" id="toctree-collapse-2-1-1"/><div class="collapse"><a class="reference internal" href="../linux/drivers/iio-transceiver/adrv9009/index.html">ADRV9009, ADRV9008-1, ADRV9008-2</a><label for="toctree-collapse-2-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../linux/drivers/iio-transceiver/adrv9009/customization.html">Customization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-2" id="toctree-collapse-2-2"/><div class="collapse"><a class="reference internal" href="../linux/drivers/iio/index.html">Linux Industrial I/O Subsystem</a><label for="toctree-collapse-2-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../linux/drivers/iio/iio-trig-sysfs.html">iio-trig-sysfs driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../linux/drivers/iio/iio-trig-bfin-timer.html">iio-trig-bfin-timer driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3" id="toctree-collapse-3"/><div class="collapse"><a class="reference internal" href="../linux/kernel/index.html">Kernel and devicetrees</a><label for="toctree-collapse-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../linux/kernel/petalinux.html">Building with Petalinux</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4" id="toctree-collapse-4"/><div class="collapse"><a class="reference internal" href="../software/iio-oscilloscope/index.html">IIO Oscilloscope</a><label for="toctree-collapse-4"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4-1" id="toctree-collapse-4-1"/><div class="collapse"><a class="reference internal" href="../software/iio-oscilloscope/adrv9009/index.html">ADRV9009</a><label for="toctree-collapse-4-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../software/iio-oscilloscope/adrv9009/plugin.html">Standard Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../software/iio-oscilloscope/adrv9009/advanced-plugin.html">Advanced plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-5" id="toctree-collapse-5"/><div class="collapse"><a class="reference internal" href="../software/libiio/index.html">Libiio</a><label for="toctree-collapse-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../software/libiio/internals.html">About libiio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software/libiio/cli.html">Command line utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software/libiio/tips-tricks.html">Tips &amp; Tricks</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-6" id="toctree-collapse-6"/><div class="collapse"><a class="reference internal" href="../software/matlab/index.html">MATLAB &amp; Simulink Toolboxes</a><label for="toctree-collapse-6"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../software/matlab/hsx-toolbox/index.html">High Speed Converter Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software/matlab/transceiver-toolbox/index.html">Transceiver Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software/matlab/bsp-extend.html">Extending Device Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../software/pyadi-iio/index.html">PyADI-IIO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Evaluation Boards</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7" id="toctree-collapse-7"/><div class="collapse"><a class="reference internal" href="../eval/user-guide/index.html">User guides</a><label for="toctree-collapse-7"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../eval/user-guide/eval-adxl355-pmdz/index.html">EVAL-ADXL355-PMDZ User Guide</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7-1" id="toctree-collapse-7-1"/><div class="collapse"><a class="reference internal" href="../eval/user-guide/adrv9009/index.html">ADRV9009 &amp; ADRV9008</a><label for="toctree-collapse-7-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../eval/user-guide/adrv9009/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7-1-1" id="toctree-collapse-7-1-1"/><div class="collapse"><a class="reference internal" href="../eval/user-guide/adrv9009/quickstart/index.html">Quickstart</a><label for="toctree-collapse-7-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../eval/user-guide/adrv9009/quickstart/zynqmp.html">ZCU102</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../eval/user-guide/adrv9009/basic-iq-datafiles.html">Basic IQ Datafiles</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">University Program</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8" id="toctree-collapse-8"/><div class="collapse"><a class="reference internal" href="../university/index.html">Engineering University Program</a><label for="toctree-collapse-8"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8-1" id="toctree-collapse-8-1"/><div class="collapse"><a class="reference internal" href="../university/active_learning/index.html">Active Learning: Student-oriented Lab Exercises</a><label for="toctree-collapse-8-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../university/active_learning/wien_bridge_oscillator/index.html">Activity: The Wien Bridge Oscillator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../university/active_learning/efficiency_power_loss/index.html">Activity: Efficiency, Power Loss, and Thermal Management</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9" id="toctree-collapse-9"/><div class="collapse"><a class="reference internal" href="../learning/index.html">Learning! Tutorials, Workshops, Etc</a><label for="toctree-collapse-9"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../learning/tutorial_prec_adc/index.html">Precision ADC Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning/converter_connectivity_tutorial/index.html">Converter Connectivity Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning/sw_infrastructure/index.html">Key ADI’s Software Infrastructure for designing with ADCs, DACs, and Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning/tools_for_ls/index.html">Tools for Low Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning/tools_for_prec_wb/index.html">Tools for Precision Wideband Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning/tools_for_hs/index.html">Tools for High-Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learning/workshop_what_sw_for_sdr/index.html">What software do I need for my SDR?</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing and Guidelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/forking_publishing.html">Forking and publishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/creating_new_pages.html">Creating new pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/docs_guidelines.html">Documentation guidelines</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section id="ad5570r-no-os-driver-user-guide">
<h1>AD5570R no-OS Driver User Guide<a class="headerlink" href="#ad5570r-no-os-driver-user-guide" title="Link to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>The <strong>AD5770R no-OS Driver</strong> interfaces with the AD5770R multi-channel digital-to-analog converter (DAC). It handles SPI communication and device initialization, enabling channel configuration, output mode adjustment, and reference voltage management. Source code supports single and multiple byte operations for register communication. Dependencies: SPI protocol and GPIO for control signals. Primary API functions in <cite>ad5770r.h</cite> and <cite>ad5770r.c</cite> cover register read/write, configuration, and error management. The driver includes diagnostics for device health monitoring.</p>
<section id="key-features-of-ad5770r">
<h3>Key Features of AD5770R<a class="headerlink" href="#key-features-of-ad5770r" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Multi-Channel Capabilities:</strong> Six channels; Channel 0 supports up to 300 mA sourcing and sinking.</p></li>
<li><p><strong>14-Bit Resolution</strong> for precise current control.</p></li>
<li><p><strong>On-Chip Reference:</strong> 1.25 V reference for accuracy and stability.</p></li>
<li><p><strong>Reference Options:</strong> Internal or external selections.</p></li>
<li><p><strong>Operating Voltage:</strong> 2.9 V to 5.5 V.</p></li>
<li><p><strong>Thermal Features:</strong> Includes temperature monitoring and shutdown.</p></li>
<li><p><strong>Performance:</strong> Low noise and glitch operations ensure signal integrity.</p></li>
</ul>
</section>
<section id="applications">
<h3>Applications<a class="headerlink" href="#applications" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Photonics Control:</strong> Precise current modulation for laser currents and photonic sensors.</p></li>
<li><p><strong>LED Driving:</strong> Programmable current source for LED consistency and longevity.</p></li>
<li><p><strong>Current Mode Biasing:</strong> Supports bias currents for transistor arrays or RF amplifiers.</p></li>
</ul>
</section>
<section id="supported-dac-model">
<h3>Supported DAC Model<a class="headerlink" href="#supported-dac-model" title="Link to this heading">#</a></h3>
<p><strong>AD5770R:</strong> 6-channel, 14-bit current output DAC suitable for photonics control, LED driving, and current mode biasing.</p>
</section>
<section id="configuration-requirements">
<h3>Configuration Requirements<a class="headerlink" href="#configuration-requirements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Power Supply:</strong> 2.9 V to 5.5 V AVDD supply; manage for thermal safety.</p></li>
<li><p><strong>SPI Interface:</strong> 4-wire connection; specific register configuration needed.</p></li>
<li><p><strong>Reference Voltage:</strong> Internal 1.25 V or configure for external reference.</p></li>
</ul>
</section>
<section id="known-limitations">
<h3>Known Limitations<a class="headerlink" href="#known-limitations" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Temperature:</strong> Maximum junction temperature: 150°C; requires thermal management.</p></li>
<li><p><strong>Channel Limits:</strong> Channel 0 can sink 60 mA, source 300 mA; other channels vary.</p></li>
<li><p><strong>Output Compliance:</strong> Check voltage compliance when combining channels.</p></li>
</ul>
</section>
</section>
<section id="driver-initialization">
<h2>Driver Initialization<a class="headerlink" href="#driver-initialization" title="Link to this heading">#</a></h2>
<p>To initialize the AD5770R driver, configure the SPI communication, set up channels, and select the reference voltage as outlined in “ad5770r.c”.</p>
<p>The first API function to be called for interfacing with the AD5770R DAC is <code class="docutils literal notranslate"><span class="pre">ad5770r_init</span></code>.</p>
<p>This function initializes the device, configures SPI communication, sets up optional GPIOs for alarms and resets, verifies device presence by reading the product ID, and configures device settings based on provided initialization parameters.</p>
<p><strong>SPI Configuration</strong></p>
<p>SPI Initialization: Initialize the SPI descriptor with no_os_spi_init using parameters from spi_init in <code class="docutils literal notranslate"><span class="pre">ad5770r_init_param</span></code></p>
<p>Device SPI Settings: Use <code class="docutils literal notranslate"><span class="pre">ad5770r_set_device_spi</span></code> to configure address ascension, single instruction, and stream mode.</p>
<p><strong>Channel Setup</strong></p>
<p>Channel Configuration: Enable channels using <code class="docutils literal notranslate"><span class="pre">ad5770r_channel_config</span></code></p>
<p>Output Mode and Filter: Set each channel’s output mode and filters using <code class="docutils literal notranslate"><span class="pre">ad5770r_set_output_mode</span></code> and <code class="docutils literal notranslate"><span class="pre">ad5770r_set_output_filter</span></code></p>
<p>Output Mode and Filter: Set each channel’s output mode and filters using <code class="docutils literal notranslate"><span class="pre">ad5770r_set_output_mode</span></code> and <code class="docutils literal notranslate"><span class="pre">ad5770r_set_output_filter</span></code></p>
<p><strong>Reference Voltage Selection</strong></p>
<p>Set the reference voltage with <code class="docutils literal notranslate"><span class="pre">ad5770r_set_reference</span></code></p>
<p><strong>Additional Configuration</strong></p>
<p>Alarm Setup: Configure alarms using <code class="docutils literal notranslate"><span class="pre">ad5770r_set_alarm</span></code></p>
<p>LDAC and Monitors: Set hardware LDAC with <code class="docutils literal notranslate"><span class="pre">ad5770r_set_hw_ldac</span></code> and monitor setup via <code class="docutils literal notranslate"><span class="pre">ad5770r_set_monitor_setup</span></code></p>
</section>
<section id="ad5770r-driver-function-descriptions">
<h2>AD5770R Driver Function Descriptions<a class="headerlink" href="#ad5770r-driver-function-descriptions" title="Link to this heading">#</a></h2>
<p><strong>SPI Register Read Functions</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_spi_reg_read</span></code>: Reads a hardware register via SPI by sending the register address with a read marker, then captures the data. Essential for monitoring the DAC’s status.</p>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_spi_reg_read_multiple</span></code>: Reads multiple contiguous registers in one operation, improving efficiency for bulk data retrieval, useful for diagnostics and status updates.</p>
<p><strong>SPI Register Write Functions</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_spi_reg_write</span></code>: Directly writes data to a specified DAC register, allowing configuration settings like output modes or reference voltages.</p>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_spi_reg_write_multiple</span></code>: Writes to multiple consecutive registers, enhancing performance for configuration or calibration.</p>
<p><strong>Device Configuration Functions</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_set_device_spi</span></code>: Adjusts SPI settings specific to the device, optimizing data transactions, including streaming mode and address ascension.</p>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_channel_config</span></code>: Configures DAC channel settings such as enabling/disabling outputs, optimizing multi-output channel use.</p>
<p><strong>Error Handling and Diagnostics</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_get_status</span></code>: Retrieves current status to indicate any fault conditions like over-temperature for preventive measures.</p>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_set_alarm</span></code>: Sets alarm settings to trigger on fault conditions, enabling immediate diagnostic actions based on warnings such as temperature thresholds.</p>
<p>These driver functions manage SPI communication, device initialization, configuration settings, and error management for the AD5770R DAC, ensuring precise operation and real-time monitoring.</p>
</section>
<section id="types-declarations">
<h2>Types Declarations<a class="headerlink" href="#types-declarations" title="Link to this heading">#</a></h2>
<p><strong>SPI Transaction Types</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">struct</span> <span class="n">ad5770r_device_spi_settings</span> <span class="p">{</span>
   <span class="nb">bool</span> <span class="n">addr_ascension</span><span class="p">;</span>
   <span class="nb">bool</span> <span class="n">single_instruction</span><span class="p">;</span>
   <span class="n">uint8_t</span> <span class="n">stream_mode_length</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Configures SPI transaction types, enabling address ascending, single-instruction for multibyte transfers, and defining stream mode length for communication efficiency.</p>
<p><strong>Channel Configuration Types</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">ad5770r_channel_switches</span> <span class="p">{</span>
   <span class="nb">bool</span> <span class="n">en0</span><span class="p">,</span> <span class="n">en1</span><span class="p">,</span> <span class="n">en2</span><span class="p">,</span> <span class="n">en3</span><span class="p">,</span> <span class="n">en4</span><span class="p">,</span> <span class="n">en5</span><span class="p">,</span> <span class="n">sink0</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">struct</span> <span class="n">ad5770r_output_range</span> <span class="p">{</span>
   <span class="n">uint8_t</span> <span class="n">output_scale</span><span class="p">;</span>
   <span class="n">uint8_t</span> <span class="n">output_range_mode</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_channel_switches</span></code> enables individual channels and channel 0’s sink current. <code class="docutils literal notranslate"><span class="pre">ad5770r_output_range</span></code> specifies the output scaling and range modes.</p>
<p><strong>Error or Status Code Enumerations</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">ad5770r_alarm_cfg</span> <span class="p">{</span>
   <span class="nb">bool</span> <span class="n">open_drain_en</span><span class="p">;</span>
   <span class="nb">bool</span> <span class="n">thermal_shutdown_en</span><span class="p">;</span>
   <span class="nb">bool</span> <span class="n">background_crc_en</span><span class="p">;</span>
   <span class="nb">bool</span> <span class="n">temp_warning_msk</span><span class="p">;</span>
   <span class="nb">bool</span> <span class="n">over_temp_msk</span><span class="p">;</span>
   <span class="nb">bool</span> <span class="n">neg_ch0_msk</span><span class="p">;</span>
   <span class="nb">bool</span> <span class="n">iref_fault_msk</span><span class="p">;</span>
   <span class="nb">bool</span> <span class="n">background_crc_msk</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">enum</span> <span class="n">ad5770r_status</span> <span class="p">{</span>
   <span class="n">AD5770R_STATUS_BACKGROUND_CRC_STATUS_MSK</span> <span class="o">=</span> <span class="n">NO_OS_BIT</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span>
   <span class="n">AD5770R_STATUS_IREF_FAULT_MSK</span> <span class="o">=</span> <span class="n">NO_OS_BIT</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
   <span class="n">AD5770R_STATUS_NEGATIVE_CHANNEL0_MSK</span> <span class="o">=</span> <span class="n">NO_OS_BIT</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
   <span class="n">AD5770R_STATUS_OVER_TEMP_MSK</span> <span class="o">=</span> <span class="n">NO_OS_BIT</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
   <span class="n">AD5770R_STATUS_TEMP_WARNING_MSK</span> <span class="o">=</span> <span class="n">NO_OS_BIT</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">};</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ad5770r_alarm_cfg</span></code> configures alarms for fault conditions. ad5770r_status enumerates status and error flags for real-time error monitoring.</p>
</section>
<section id="about-the-no-os-framework">
<h2>About the no-OS Framework<a class="headerlink" href="#about-the-no-os-framework" title="Link to this heading">#</a></h2>
<p>Analog Devices’ no-OS framework enables embedded systems development without a traditional OS. It simplifies low-level operations for peripherals like ADCs and DACs, ideal for resource-constrained environments.</p>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <div></div>
    <div></div>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>